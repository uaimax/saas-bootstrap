---
description: "Regras para documenta√ß√£o autom√°tica de aprendizados e solu√ß√µes em .context/"
alwaysApply: true
---

# Documenta√ß√£o Autom√°tica de Contexto

## üéØ Prop√≥sito

Esta regra define como a LLM deve **documentar automaticamente** aprendizados, erros e solu√ß√µes nas pastas `.context/` para evitar repeti√ß√£o de problemas.

## üìÅ Estrutura de Contexto

O projeto usa **contexto separado por dom√≠nio**:

- **`backend/.context/`** - Aprendizados espec√≠ficos do backend Django/DRF
- **`frontend/.context/`** - Aprendizados espec√≠ficos do frontend React/TypeScript
- **`.context/`** (raiz) - Aprendizados gerais (devops, configura√ß√£o, integra√ß√£o)

## üìã Quando Documentar

A LLM deve documentar automaticamente quando:

1. **Resolve um problema novo** que n√£o estava documentado
2. **Identifica um padr√£o** que deve ser seguido ou evitado
3. **Encontra uma solu√ß√£o** que pode ser reutilizada
4. **Comete um erro** e o corrige (aprendizado importante)

## üìù Processo de Documenta√ß√£o

### 1. Antes de Implementar

**SEMPRE consultar `.context/` apropriado antes de:**
- Implementar nova funcionalidade no backend ‚Üí `backend/.context/`
- Implementar nova funcionalidade no frontend ‚Üí `frontend/.context/`
- Resolver bug ou problema ‚Üí `.context/` do dom√≠nio correspondente
- Criar novo model/view/service ‚Üí `backend/.context/`
- Criar novo componente/hook ‚Üí `frontend/.context/`
- Configurar deploy/CI/CD ‚Üí `.context/` (raiz)

### 2. Durante Implementa√ß√£o

Se encontrar dificuldade ou erro:
1. Identificar dom√≠nio (backend/frontend/geral)
2. Verificar se j√° existe em `.context/mistakes.md` do dom√≠nio
3. Se n√£o existir, documentar ap√≥s resolver

### 3. Ap√≥s Resolver Problema

**Documentar automaticamente no `.context/` correto** seguindo este formato:

```markdown
---
date: YYYY-MM-DD
category: [backend|frontend|devops|general]
tags: [tag1, tag2]
severity: [low|medium|high|critical]
---

## [T√≠tulo Descritivo]

### Contexto
[O que estava sendo feito]

### Problema/Aprendizado
[Descri√ß√£o clara]

### Solu√ß√£o
[Como foi resolvido]

### Li√ß√µes Aprendidas
[O que evitar no futuro]

### Refer√™ncias
- Arquivos: `path/to/file.py`
- Docs: `docs/ARCHITECTURE.md`
```

## üìÅ Estrutura de Arquivos em Cada `.context/`

Cada pasta `.context/` (backend, frontend, raiz) cont√©m:

### `learnings.md`
- Aprendizados positivos (o que funcionou bem)
- Padr√µes que devem ser replicados
- Solu√ß√µes elegantes

### `mistakes.md`
- Erros j√° enfrentados
- Solu√ß√µes para problemas comuns
- O que evitar

### `patterns.md`
- Padr√µes identificados que funcionam
- Conven√ß√µes do projeto
- Boas pr√°ticas espec√≠ficas

### `anti-patterns.md`
- Padr√µes que devem ser evitados
- O que n√£o fazer
- Armadilhas comuns

### `README.md`
- Guia de uso espec√≠fico do dom√≠nio
- Quando usar aquela pasta
- Formato e conven√ß√µes

## üîç Crit√©rios de Severidade

- **critical**: Erros que quebram funcionalidade ou seguran√ßa
- **high**: Problemas importantes que afetam qualidade
- **medium**: Aprendizados relevantes mas n√£o cr√≠ticos
- **low**: Notas menores, podem ser consolidadas depois

## ‚úÖ Checklist de Documenta√ß√£o

Antes de finalizar qualquer tarefa que envolveu aprendizado:

- [ ] Dom√≠nio identificado (backend/frontend/geral)?
- [ ] Problema/solu√ß√£o documentado no `.context/` correto?
- [ ] Arquivo correto escolhido (learnings/mistakes/patterns/anti-patterns)?
- [ ] Severidade correta atribu√≠da?
- [ ] Tags relevantes adicionadas?
- [ ] Refer√™ncias inclu√≠das?
- [ ] Formato seguido corretamente?

## üö´ O Que N√ÉO Documentar

- Informa√ß√µes j√° em `.cursorrules` ou `docs/`
- Aprendizados muito espec√≠ficos (uma linha de c√≥digo)
- Informa√ß√µes tempor√°rias ou experimentais
- Duplicatas de aprendizados j√° documentados

## üîÑ Manuten√ß√£o

- **Revis√£o mensal**: Limpar entradas obsoletas
- **Consolida√ß√£o**: Juntar aprendizados similares
- **Prioriza√ß√£o**: Manter apenas severity medium+

## üéØ Escolhendo o `.context/` Correto

### Use `backend/.context/` quando:
- Problema/solu√ß√£o √© espec√≠fico de Django, DRF, Python
- Envolve models, views, serializers, migrations
- Relacionado a APIs, autentica√ß√£o, multi-tenancy
- Performance de queries, ORM

### Use `frontend/.context/` quando:
- Problema/solu√ß√£o √© espec√≠fico de React, TypeScript
- Envolve componentes, hooks, estado
- Relacionado a UI/UX, integra√ß√£o com APIs
- Performance de renderiza√ß√£o, bundle size

### Use `.context/` (raiz) quando:
- Problema/solu√ß√£o afeta ambos (backend e frontend)
- Relacionado a DevOps, CI/CD, deploy
- Configura√ß√£o de ambiente, vari√°veis
- Scripts e automa√ß√µes gerais
- Decis√µes arquiteturais gerais

---

**Refer√™ncias**:
- `backend/.context/README.md` - Guia do backend
- `frontend/.context/README.md` - Guia do frontend
- `.context/README.md` - Guia geral
